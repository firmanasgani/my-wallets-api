import { TransactionType } from "@prisma/client";
import { Type } from "class-transformer";
import { IsDateString, IsEnum, IsInt, IsNotEmpty, IsNumber, IsOptional, IsString, IsUUID, Min } from "class-validator";

export class QueryTransactionDto {
   @IsOptional()
   @IsUUID('4')
   @IsString()
   accountId?: string

   @IsOptional()
   @IsEnum(TransactionType)
   type?: TransactionType

   @IsOptional()
   @IsUUID('4')
   @IsString()
   categoryId?: string

   @IsOptional()
   @IsDateString()
   startDate?: Date

   @IsOptional()
   @IsDateString()
   endDate?: Date

   @IsOptional()
   @Type(() => Number)
   @IsInt()
   @Min(1)
   page?: number

   @IsOptional()
   @Type(() => Number)
   @IsInt()
   @Min(1)
   limit?: number

   @IsOptional()
   @IsString()
   sortBy?: string = 'transactionDate'

   @IsOptional()
   @IsString()
   sortOrder?: 'asc' | 'desc' = 'desc'
}